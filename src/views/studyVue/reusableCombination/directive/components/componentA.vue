<template>
  <h2>åŠ¨æ€æŒ‡ä»¤å‚æ•°</h2>

  <div id="dynamic-arguments-example" class="demo">
    <p>Scroll down the page</p>
    <!-- JavaScript å¯¹è±¡å­—é¢é‡ -->
    <p v-pin:[direction]="pinPadding">
      Stick me {{ pinPadding + 'px' }} from the {{ direction || 'top' }} of the page
    </p>
  </div>
</template>

<script>
import { defineComponent, ref } from 'vue'

export default defineComponent({
  directives: {
    /**
     * å¦‚æœæŒ‡ä»¤éœ€è¦å¤šä¸ªå€¼ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªJSå¯¹è±¡å­—é¢é‡ã€‚
     * æŒ‡ä»¤å‡½æ•°èƒ½å¤Ÿæ¥å—æ‰€æœ‰åˆæ³•çš„JSè¡¨è¾¾å¼
     */

    /*pin: {
      mounted(el, binding) {
        console.log(binding)
        console.log('ğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜Š')

        el.style.position = 'fixed'
        // binding.value æ˜¯æˆ‘ä»¬ä¼ é€’ç»™æŒ‡ä»¤çš„å€¼ - åœ¨è¿™é‡Œæ˜¯200
        // binding.arg æ˜¯æˆ‘ä»¬ä¼ é€’ç»™æŒ‡ä»¤çš„å‚æ•° - åœ¨è¿™é‡Œæ˜¯ direction
        const s = binding.arg || 'top'
        el.style[s] = binding.value + 'px'
      },
      // æ‰©å±•æŒ‡ä»¤é€»è¾‘åœ¨ç»„ä»¶æ›´æ–°åé‡æ–°è®¡ç®—å›ºå®šçš„è·ç¦»
      updated(el, binding) {
        const s = binding.arg || 'top'
        el.style[s] = binding.value + 'px'
      }
    }*/

    // å‡½æ•°ç®€å†™
    pin: (el, binding) => {
      el.style.position = 'fixed'
      const s = binding.arg || 'top'
      el.style[s] = binding.value + 'px'
    }
  },

  setup() {
    const direction = ref('left')
    const pinPadding = ref('200')

    return {
      direction,
      pinPadding
    }
  }
})
</script>
